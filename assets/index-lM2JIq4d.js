var R=Object.defineProperty;var T=(t,r,a)=>r in t?R(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;var y=(t,r,a)=>T(t,typeof r!="symbol"?r+"":r,a);import{r as i,a as L,T as A,C as O,U as k,A as C,R as N,L as P,H as D,b as I}from"./vendor-Dpn6oh2H.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();var b={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=i,F=Symbol.for("react.element"),U=Symbol.for("react.fragment"),H=Object.prototype.hasOwnProperty,$=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M={key:!0,ref:!0,__self:!0,__source:!0};function v(t,r,a){var n,s={},o=null,c=null;a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(c=r.ref);for(n in r)H.call(r,n)&&!M.hasOwnProperty(n)&&(s[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)s[n]===void 0&&(s[n]=r[n]);return{$$typeof:F,type:t,key:o,ref:c,props:s,_owner:$.current}}g.Fragment=U;g.jsx=v;g.jsxs=v;b.exports=g;var e=b.exports,E,w=L;E=w.createRoot,w.hydrateRoot;function B({tweet:t}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("img",{src:t.author.profileImage,alt:t.author.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.author.name}),e.jsxs("p",{className:"text-gray-500",children:["@",t.author.username]})]})]}),e.jsx("p",{className:"text-gray-800 mb-3",children:t.text}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.labels.map(r=>e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e.jsx(A,{className:"inline w-4 h-4 mr-1"}),r]},r))}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),t.author.username]})]})]})}function W({message:t,onRetry:r}){return e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-700",children:t})]}),r&&e.jsxs("button",{onClick:r,className:"mt-2 flex items-center text-red-700 hover:text-red-800",children:[e.jsx(N,{className:"w-4 h-4 mr-1"}),"Retry"]})]})}function G(){return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(P,{className:"w-8 h-8 text-blue-500 animate-spin"})})}function K({tweets:t,isLoading:r,error:a,onRetry:n}){return a?e.jsx(W,{message:a,onRetry:n}):r&&t.length===0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(8)].map((s,o)=>e.jsx("div",{className:"animate-pulse bg-gray-200 rounded-lg h-48"},o))}):t.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No tweets found matching your criteria."})}):e.jsxs("div",{children:[r&&e.jsx(G,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(s=>e.jsx(B,{tweet:s},s.id))})]})}function Y({onRefresh:t}){return e.jsx("header",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"w-8 h-8 text-blue-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Twitter Hashtag Monitor"})]}),e.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(N,{className:"w-4 h-4"}),"Refresh"]})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Monitoring #journorequest and #prrequest in real-time"})]})})}class J extends i.Component{constructor(){super(...arguments);y(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,n){console.error("Uncaught error:",a,n)}render(){var a;return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-[200px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600",children:((a=this.state.error)==null?void 0:a.message)||"An unexpected error occurred"})]})}):this.props.children}}const z=async t=>{const r=t.headers.get("content-type");if(r&&r.includes("application/json")){const a=await t.json();throw new Error(a.message||"Failed to fetch tweets")}throw new Error("Network error occurred")};async function Q(t,r){var a;try{const n=new URLSearchParams({query:t,...r&&{next_token:r}}),s=await fetch(`/.netlify/functions/tweets?${n}`);s.ok||await z(s);const o=await s.json();return!o.data||!Array.isArray(o.data)?{tweets:[],nextToken:null}:{tweets:o.data.map(l=>{var u,x,d,f,m,h;return{id:l.id,text:l.text,author:{name:((u=l.author)==null?void 0:u.name)||"Unknown",username:((x=l.author)==null?void 0:x.username)||"unknown",profileImage:((d=l.author)==null?void 0:d.profile_image_url)||`https://unavatar.io/twitter/${(f=l.author)==null?void 0:f.username}`},createdAt:l.created_at,hashtags:((h=(m=l.entities)==null?void 0:m.hashtags)==null?void 0:h.map(j=>j.tag))||[],labels:[]}}),nextToken:((a=o.meta)==null?void 0:a.next_token)||null}}catch(n){throw console.error("Error fetching tweets:",n),n instanceof Error?n:new Error("Failed to fetch tweets")}}const V=["journorequest","prrequest"],X=["technology","tech","software","ai","startup"];function Z(){const[t,r]=i.useState([]),[a,n]=i.useState(!0),[s,o]=i.useState(null),[c,l]=i.useState(1),[u,x]=i.useState(null),d=i.useCallback(async()=>{try{n(!0),o(null);const m=V.map(p=>`#${p}`).join(" OR "),h=await Q(m,u),j=h.tweets.map(p=>({...p,labels:X.filter(S=>p.text.toLowerCase().includes(S.toLowerCase()))}));r(j),x(h.nextToken)}catch(m){o(m instanceof Error?m.message:"An error occurred while fetching tweets"),r([])}finally{n(!1)}},[u]);i.useEffect(()=>{d()},[d,c]);const f=i.useCallback(()=>{d()},[d]);return{tweets:t,isLoading:a,error:s,page:c,setPage:l,hasNextPage:!!u,retry:f}}function ee(){const{tweets:t,isLoading:r,error:a,retry:n}=Z();return e.jsx(J,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{onRefresh:n}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsx(K,{tweets:t,isLoading:r,error:a,onRetry:n})})]})})}const _=document.getElementById("root");if(!_)throw new Error("Failed to find the root element");const re=E(_);re.render(e.jsx(i.StrictMode,{children:e.jsx(ee,{})}));
//# sourceMappingURL=index-lM2JIq4d.js.map
